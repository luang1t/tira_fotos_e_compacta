<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>C√¢mera + ZIP</title>

    <!-- Seu CSS externo -->
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <!-- Container principal que agrupa c√¢mera, bot√µes e galeria -->
    <div class="container">

        <!-- V√≠deo que mostra a imagem da c√¢mera ao vivo -->
        <!-- id="video" √© usado pela rotina (config.videoId) -->
        <video id="video" autoplay playsinline></video>

        <!-- Canvas usado internamente para ‚Äútirar‚Äù a foto a partir do v√≠deo -->
        <!-- id="photo" √© usado pela rotina (config.canvasId). Pode ficar oculto. -->
        <canvas id="photo" style="display: none;"></canvas>

        <!-- Bot√£o principal: liga a c√¢mera e tira foto -->
        <!-- id="cameraAction" √© usado pela rotina (config.cameraButtonId) -->
        <!-- Coloquei um texto padr√£o aqui pra n√£o ficar s√≥ um tracinho, mesmo se o JS falhar -->
        <button id="cameraAction">üì∑ Ligar C√¢mera</button>

        <!-- T√≠tulo da galeria de fotos tiradas -->
        <h2>Galeria</h2>

        <!-- Div onde ser√£o inseridas dinamicamente as miniaturas das fotos -->
        <!-- id="gallery" √© usado pela rotina (config.galleryId) -->
        <div id="gallery"></div>

        <!-- Bot√£o para baixar as fotos selecionadas em um arquivo ZIP -->
        <!-- id="downloadZip" √© usado pela rotina (config.downloadButtonId) -->
        <button id="downloadZip">‚¨á Baixar fotos selecionadas (.ZIP)</button>

    </div>

    <!-- Importa a biblioteca JSZip via CDN, necess√°ria para gerar o arquivo ZIP -->
    <!-- Ela exp√µe o objeto global "JSZip", usado dentro da rotina -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>

    <!-- Importa o m√≥dulo ES com a rotina da c√¢mera -->
    <script type="module">
        // Importa a fun√ß√£o initCameraRoutine do m√≥dulo ES
        import { initCameraRoutine } from './cameraRoutine.mjs';

        // Inicializa a rotina, passando os IDs dos elementos da tela
        const camera = initCameraRoutine({
            cameraButtonId:   'cameraAction', // ID do bot√£o principal
            downloadButtonId: 'downloadZip',  // ID do bot√£o de download ZIP
            videoId:          'video',        // ID do elemento <video>
            canvasId:         'photo',        // ID do elemento <canvas>
            galleryId:        'gallery',      // ID da div da galeria
            textos: {                         // Textos opcionais do bot√£o principal
                ligar: 'üì∑ Ligar C√¢mera',     // Texto quando a c√¢mera est√° desligada
                fotografar: 'üì∏ Tirar Foto'   // Texto quando a c√¢mera est√° ligada
            }
        });

        // Exemplo de uso da API p√∫blica (opcional):
        // console.log(camera.getImagens());
        // console.log(camera.isCameraAtiva());
        // camera.desligarCamera();
        // camera.limparGaleria();
    
    </script>

</body>
</html>
